<?php
//*****************************************************************************
//*****************************************************************************
/**
 * GPIO Class
 *
 * @package	PHP Raspberry PI
 * @subpackage	GPIO
 **/
//*****************************************************************************
//*****************************************************************************

namespace PhpRaspberryPi;

//*****************************************************************************
//*****************************************************************************
// GPIO Class
//*****************************************************************************
//*****************************************************************************
class GPIO
{
    //=========================================================================
    //=========================================================================
    // Set Inputs Mode
    //=========================================================================
    //=========================================================================
    public static function SetInputMode($input, $mode)
    {
        system("/usr/bin/gpio mode {$pin} {$mode}");
    }

    //=========================================================================
    //=========================================================================
    // Set Inputs Mode
    //=========================================================================
    //=========================================================================
    public static function SetInputsMode(Array $inputs, $mode)
    {
        foreach ($inputs as $input) {
            self::SetInputMode($input, $mode);
        }
    }

    //=========================================================================
    //=========================================================================
    // Turn Off All GPIO Inputs
    //=========================================================================
    //=========================================================================
    public static function TurnOffAll(Array $args=[])
    {
        //---------------------------------------------------------------------
        // Defaults / Extract Args
        //---------------------------------------------------------------------
        $inputs = [7, 0, 2, 3, 21, 22, 23, 25, 1, 4, 5, 6, 26, 27];
        $verbose = false;
        extract($args);

        //---------------------------------------------------------------------
        // Turn Off Inputs
        //---------------------------------------------------------------------
        foreach ($inputs as $input) {
            if ($verbose) {
                print "\nPin {$input}...";
            }
            system("gpio write {$input} 0");
            if ($verbose) {
                print "Off.";
            }
        }
    }
}
